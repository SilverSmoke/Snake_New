<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <style>
    .field{
      position:relative;
      background:green;
      height:500px;
      width:500px;
      top:100px;
      margin-left:auto;
      margin-right:auto;
      border:solid red 5px;
    }
    .snake_head{
      position:absolute;
      width:10px;
      height:10px;
      background:yellow;
      border-radius:5px 5px 5px 5px;
    }
    .snake_tail{
      position:absolute;
      width:10px;
      height:10px;
      background:red;
      border-radius:5px 5px 5px 5px;
    }
    </style>
  </head>
  <body>
    
    <div class="field" id="field">
    
    </div>
    
    <script>
    onclick = function(e){
      console.log(e);
    }
    "use strict"
    onload = function(){
      //console.log("Ура Работает1!!!");next
      var field = document.getElementById("field");
      var x0 = field.offsetLeft;
      var y0 = field.offsetTop;
      var x_max = x0 + field.offsetWidth;
      var y_max = y0 + field.offsetHeight;
      console.log(x0,y0,x_max,y_max);//test
      
      var Snake = function(){
        var snake = [];
        snake[0] = document.createElement('div');
        snake[0].className = "snake_head";
        
        var posX = field.offsetWidth/2;
        var posY = field.offsetHeight/2;
        
        snake[0].style.left = posX + "px";
        snake[0].style.top = posY + "px";
        
        //console.log(snake[0].style.top);//test
        
        field.appendChild(snake[0]);
        
        for(var i = 1; i < 100; i++){
        
          snake[i] = document.createElement('div');
          snake[i].className = "snake_tail";
          
          snake[i].style.left = posX + "px";
          snake[i].style.top = posY + "px";
          
          //console.log(snake[0].style.top);//test
          
          field.appendChild(snake[i]);
        }
        
        var x_speed = 0;
        var y_speed = 0;
        
        
        
        function move(section){
          //console.log(section);
          
          var posX1;
          var posY1;
          
          
          if(section > 0){
            
            posX1 = snake[section - 1].offsetLeft;
            posY1 = snake[section - 1].offsetTop;
            //var posX1 = posX;
            //var posY1 = posY;
            //console.log(posX1);
            //console.log(posY1);
            move(section - 1);
          }else{
            
            posX += 10 * x_speed;
            posY += 10 * y_speed;
            posX1 = posX;
            posY1 = posY;
            
          }
          
          snake[section].style.left = posX1 + "px";
          snake[section].style.top = posY1 + "px";
          
        }
        
        var timerId;
        
        console.log(timerId);
        console.log(timerId = setInterval(move, 100, snake.length - 1));
        console.log(timerId);
        //console.log(clearInterval(timerId));
        console.log(timerId);
        
        function go(){
          clearInterval(timerId);
          timerId = setInterval(move, 100, snake.length - 1);
        }
        
        
          
          
          
        onkeydown = function(ek){
          console.log(ek);
          console.log(ek.key);
          var key = ek.key;
          switch(key){
            case 'ArrowRight':
              console.log('Вправо');
              if(x_speed != -1){
                y_speed = 0;
                x_speed = 1;
                go();
              }
              break;
            case 'ArrowLeft':
              if(x_speed != 1){
                y_speed = 0;
                x_speed = -1;
                go();
              }
              break;
            case 'ArrowUp':
              if(y_speed != 1){
                x_speed = 0;
                y_speed = -1;
                go();
              }
              break;
            case 'ArrowDown':
              if(y_speed != -1){
                x_speed = 0;
                y_speed = 1;
                go();
              }
              break;
            default:
              
              /*x_speed = 0;
              y_speed = 0;*/
              clearInterval(timerId);
              
              break;
          }
        }
      }
      //модификация для GIT2
      var snake = new Snake();
    }
    </script>
  </body>
</html>